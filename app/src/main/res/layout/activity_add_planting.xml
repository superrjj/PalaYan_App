<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/white"
    android:orientation="vertical"
    tools:context=".UserActivities.AddPlantingActivity">

    <!-- Header -->
    <LinearLayout
        android:id="@+id/layoutBack"
        android:layout_width="match_parent"
        android:layout_height="60dp"
        android:orientation="horizontal"
        android:background="@color/green"
        android:gravity="center_vertical"
        android:paddingEnd="10dp">

        <ImageView
            android:id="@+id/ivBack"
            android:layout_width="50dp"
            android:layout_height="50dp"
            android:src="@drawable/ic_back_final"
            android:padding="10dp"
            app:tint="@color/white"/>

        <TextView
            android:id="@+id/tvTitle"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Bagong Taniman"
            android:textColor="@color/white"
            android:textSize="18sp"
            android:textAlignment="center"
            android:fontFamily="@font/poppins_bold"/>
    </LinearLayout>

    <!-- Tabs -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:background="@color/white"
        android:elevation="2dp">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal">

            <TextView
                android:id="@+id/tabSeedSelection"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="PAGPILI NG BINHI"
                android:textColor="@color/orange"
                android:textSize="12sp"
                android:fontFamily="@font/poppins__semibold"
                android:gravity="center"
                android:padding="12dp"
                android:clickable="true"
                android:focusable="true"
                android:background="?attr/selectableItemBackground"/>

            <TextView
                android:id="@+id/tabFertilizer"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="PAMAMAHALA NG PATABA"
                android:textColor="@color/dark_gray"
                android:textSize="12sp"
                android:fontFamily="@font/poppins__semibold"
                android:gravity="center"
                android:padding="12dp"
                android:clickable="true"
                android:focusable="true"
                android:background="?attr/selectableItemBackground"/>

            <TextView
                android:id="@+id/tabCropCalendar"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="CROP CALENDAR"
                android:textColor="@color/dark_gray"
                android:textSize="12sp"
                android:fontFamily="@font/poppins__semibold"
                android:gravity="center"
                android:padding="12dp"
                android:clickable="true"
                android:focusable="true"
                android:background="?attr/selectableItemBackground"/>
        </LinearLayout>

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="3dp"
            android:orientation="horizontal">

            <View
                android:id="@+id/indicatorSeedSelection"
                android:layout_width="0dp"
                android:layout_height="match_parent"
                android:layout_weight="1"
                android:background="@color/orange"
                android:visibility="visible"/>

            <View
                android:id="@+id/indicatorFertilizer"
                android:layout_width="0dp"
                android:layout_height="match_parent"
                android:layout_weight="1"
                android:background="@color/orange"
                android:visibility="gone"/>

            <View
                android:id="@+id/indicatorCropCalendar"
                android:layout_width="0dp"
                android:layout_height="match_parent"
                android:layout_weight="1"
                android:background="@color/orange"
                android:visibility="gone"/>
        </LinearLayout>
    </LinearLayout>

    <!-- Content Area -->
    <ScrollView
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:fillViewport="true">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical">

        <!-- Step 1: Seed Selection -->
        <LinearLayout
            android:id="@+id/layoutSeedSelection"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="20dp"
            android:visibility="visible">

            <TextView
                android:id="@+id/tvRiceFieldInfo"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:textColor="@color/dark_gray"
                android:textSize="14sp"
                android:fontFamily="@font/poppins__regular"
                android:layout_marginBottom="20dp"
                tools:text="Para sa: Super J Farm"/>

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Pumili ng binhi na angkop sa iyong lugar"
                android:textColor="@color/black"
                android:textSize="16sp"
                android:fontFamily="@font/poppins__semibold"
                android:layout_marginBottom="8dp"/>

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Ilagay ang pangalan ng barayti upang makita ang katangian nito. Piliin ang manual na pag-input kung hindi ito makita sa listahan."
                android:textColor="@color/dark_gray"
                android:textSize="14sp"
                android:fontFamily="@font/poppins__regular"
                android:layout_marginBottom="20dp"/>

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Barayti ng Palay"
                android:textColor="@color/black"
                android:textSize="16sp"
                android:fontFamily="@font/poppins__semibold"
                android:layout_marginBottom="8dp"/>

            <com.google.android.material.textfield.TextInputLayout
                android:id="@+id/layoutRiceVariety"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="Hal. NSIC Rc 222"
                app:boxStrokeColor="@color/green"
                app:endIconMode="dropdown_menu"
                android:layout_marginBottom="20dp">

                <AutoCompleteTextView
                    android:id="@+id/etRiceVariety"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:clickable="true"
                    android:fontFamily="@font/poppins__medium"
                    android:inputType="textCapWords"
                    android:padding="12dp"
                    android:textColor="@color/black"
                    android:textSize="15sp"/>
            </com.google.android.material.textfield.TextInputLayout>

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Paraan ng Pagtatanim"
                android:textColor="@color/black"
                android:textSize="16sp"
                android:fontFamily="@font/poppins__semibold"
                android:layout_marginBottom="8dp"/>

            <RadioGroup
                android:id="@+id/rgPlantingMethod"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:layout_marginBottom="20dp">

                <RadioButton
                    android:id="@+id/rbSabogTanim"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Sabog-tanim"
                    android:textColor="@color/black"
                    android:fontFamily="@font/poppins__regular"
                    android:textSize="14sp"/>

                <RadioButton
                    android:id="@+id/rbLipatTanim"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Lipat-tanim"
                    android:textColor="@color/black"
                    android:fontFamily="@font/poppins__regular"
                    android:textSize="14sp"
                    android:layout_marginStart="20dp"/>
            </RadioGroup>

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Petsa ng Pagpupunla"
                android:textColor="@color/black"
                android:textSize="16sp"
                android:fontFamily="@font/poppins__semibold"
                android:layout_marginBottom="8dp"/>

            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="60dp"
                android:layout_marginBottom="20dp"
                app:strokeColor="@color/light_gray"
                app:cardBackgroundColor="@color/white"
                app:cardCornerRadius="8dp"
                app:cardElevation="0dp">

                <LinearLayout
                    android:id="@+id/layoutPlantingDate"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:padding="12dp">

                    <TextView
                        android:id="@+id/tvPlantingDate"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Piliin ang petsa"
                        android:textColor="@color/dark_gray"
                        android:textSize="14sp"
                        android:fontFamily="@font/poppins__regular"/>

                    <ImageView
                        android:layout_width="24dp"
                        android:layout_height="24dp"
                        android:src="@drawable/ic_final_calendar"
                        app:tint="@color/green"/>
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Kabuuang Timbang ng Binhi (kg)"
                android:textColor="@color/black"
                android:textSize="16sp"
                android:fontFamily="@font/poppins__semibold"
                android:layout_marginBottom="8dp"/>

            <com.google.android.material.textfield.TextInputLayout
                android:id="@+id/layoutSeedWeight"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="Hal. 80"
                app:boxStrokeColor="@color/green"
                android:layout_marginBottom="24dp">

                <com.google.android.material.textfield.TextInputEditText
                    android:id="@+id/etSeedWeight"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:inputType="numberDecimal"
                    android:fontFamily="@font/poppins__regular"/>
            </com.google.android.material.textfield.TextInputLayout>

        </LinearLayout>

        <!-- Step 2: Fertilizer Management -->
        <LinearLayout
            android:id="@+id/layoutFertilizer"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="20dp"
            android:visibility="gone">

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Sundin ang tamang element, Amount, Timing o EAT sa pagpapataba. Pumili ng rekomendasyon ng pag-aabono na para sa iyo."
                android:textColor="@color/black"
                android:textSize="14sp"
                android:fontFamily="@font/poppins__regular"
                android:layout_marginBottom="20dp"/>

            <RadioGroup
                android:id="@+id/rgFertilizerStrategy"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:layout_marginBottom="20dp">

                <RadioButton
                    android:id="@+id/rbAbonongSwak"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Abonong Swak"
                    android:textColor="@color/black"
                    android:fontFamily="@font/poppins__regular"
                    android:textSize="16sp"
                    android:checked="true"/>

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Basta't tama ang dami ng organiko at inorganikong pataba, nasisigurong mataas ang ani."
                    android:textColor="@color/dark_gray"
                    android:textSize="14sp"
                    android:fontFamily="@font/poppins__regular"
                    android:layout_marginStart="32dp"
                    android:layout_marginTop="4dp"
                    android:layout_marginBottom="12dp"/>

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Piliin ang combo-sustansiya na swak sa iyo base sa iyong nakaraang ani noong nakaraang kaparehas na cropping season."
                    android:textColor="@color/dark_gray"
                    android:textSize="14sp"
                    android:fontFamily="@font/poppins__regular"
                    android:layout_marginStart="32dp"
                    android:layout_marginBottom="16dp"/>

                <RadioGroup
                    android:id="@+id/rgFertilizerCombo"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:layout_marginStart="32dp"
                    android:visibility="gone">

                    <RadioButton
                        android:id="@+id/rbCombo1"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Combo 1 (3-4 tons)"
                        android:textColor="@color/black"
                        android:fontFamily="@font/poppins__regular"/>

                    <!-- Combo 1 Schedule Table -->
                    <include
                        android:id="@+id/layoutFertilizerScheduleTableCombo1"
                        layout="@layout/layout_fertilizer_schedule_table"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginStart="0dp"
                        android:layout_marginTop="8dp"
                        android:visibility="gone"/>

                    <RadioButton
                        android:id="@+id/rbCombo2"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Combo 2 (5-6 tons)"
                        android:textColor="@color/black"
                        android:fontFamily="@font/poppins__regular"
                        android:layout_marginTop="8dp"/>

                    <!-- Combo 2 Schedule Table -->
                    <include
                        android:id="@+id/layoutFertilizerScheduleTableCombo2"
                        layout="@layout/layout_fertilizer_schedule_table"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginStart="0dp"
                        android:layout_marginTop="8dp"
                        android:visibility="gone"/>

                    <RadioButton
                        android:id="@+id/rbCombo3"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Combo 3 (7-8 tons)"
                        android:textColor="@color/black"
                        android:fontFamily="@font/poppins__regular"
                        android:layout_marginTop="8dp"/>

                    <!-- Combo 3 Schedule Table -->
                    <include
                        android:id="@+id/layoutFertilizerScheduleTableCombo3"
                        layout="@layout/layout_fertilizer_schedule_table"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginStart="0dp"
                        android:layout_marginTop="8dp"
                        android:visibility="gone"/>

                    <RadioButton
                        android:id="@+id/rbCombo4"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Combo 4 + Biofertilizer (6-7 tons)"
                        android:textColor="@color/black"
                        android:fontFamily="@font/poppins__regular"
                        android:layout_marginTop="8dp"/>

                    <!-- Combo 4 Schedule Table -->
                    <include
                        android:id="@+id/layoutFertilizerScheduleTableCombo4"
                        layout="@layout/layout_fertilizer_schedule_table"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginStart="0dp"
                        android:layout_marginTop="8dp"
                        android:visibility="gone"/>
                </RadioGroup>

                <RadioButton
                    android:id="@+id/rbSarilingDiskarte"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Sariling diskarte"
                    android:textColor="@color/black"
                    android:fontFamily="@font/poppins__regular"
                    android:textSize="16sp"
                    android:layout_marginTop="16dp"/>

                <!-- Sariling Diskarte Schedule Table -->
                <include
                    android:id="@+id/layoutFertilizerScheduleTableSarilingDiskarte"
                    layout="@layout/layout_fertilizer_schedule_table"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginStart="0dp"
                    android:layout_marginTop="8dp"
                    android:visibility="gone"/>

            </RadioGroup>

            <!-- Custom Fertilizer Schedule (for Sariling diskarte) -->
            <LinearLayout
                android:id="@+id/layoutCustomFertilizer"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:visibility="gone">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Schedule ng Pag-aabono"
                    android:textColor="@color/black"
                    android:textSize="16sp"
                    android:fontFamily="@font/poppins__semibold"
                    android:layout_marginBottom="16dp"/>

                <!-- This will be populated dynamically based on planting method -->
                <androidx.recyclerview.widget.RecyclerView
                    android:id="@+id/rvFertilizerSchedule"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:nestedScrollingEnabled="false"/>
            </LinearLayout>

        </LinearLayout>

        <!-- Step 3: Crop Calendar -->
        <LinearLayout
            android:id="@+id/layoutCropCalendar"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="20dp"
            android:visibility="gone">

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Ito ang iyong iskedyul ng mga gawain"
                android:textColor="@color/black"
                android:textSize="18sp"
                android:fontFamily="@font/poppins_bold"
                android:layout_marginBottom="8dp"/>

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Sundin ang crop calendar na ito batay sa Sistemang PalaYan."
                android:textColor="@color/dark_gray"
                android:textSize="14sp"
                android:fontFamily="@font/poppins__regular"
                android:layout_marginBottom="20dp"/>

            <com.example.palayan.Helper.NonScrollableRecyclerView
                android:id="@+id/rvCropCalendar"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:paddingBottom="16dp"
                android:nestedScrollingEnabled="false"/>

        </LinearLayout>

        </LinearLayout>

    </ScrollView>

    <!-- Bottom Buttons -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="20dp"
        android:background="@color/white"
        android:elevation="8dp">

        <Button
            android:id="@+id/btnNext"
            android:layout_width="match_parent"
            android:layout_height="50dp"
            android:background="@drawable/button_solid"
            android:text="SUSUNOD"
            android:fontFamily="@font/poppins__regular"
            android:textColor="@color/white"
            android:textSize="16sp"/>

        <Button
            android:id="@+id/btnBack"
            android:layout_width="match_parent"
            android:layout_height="50dp"
            android:background="@drawable/button_outline"
            android:text="BUMALIK"
            app:backgroundTint="@color/orange"
            android:fontFamily="@font/poppins__regular"
            android:textColor="@color/white"
            android:textSize="16sp"
            android:layout_marginTop="10dp"
            android:visibility="gone"/>

        <Button
            android:id="@+id/btnSave"
            android:layout_width="match_parent"
            android:layout_height="50dp"
            android:background="@drawable/button_solid"
            android:text="SIMULAN ANG PAGSASAKA"
            android:fontFamily="@font/poppins__regular"
            android:textColor="@color/white"
            android:textSize="16sp"
            android:visibility="gone"/>

        <TextView
            android:id="@+id/tvRemove"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Alisin ang taniman"
            android:fontFamily="@font/poppins__semibold"
            android:textSize="18sp"
            android:textAllCaps="true"
            android:gravity="center"
            android:textColor="@color/dark_red"
            android:layout_marginTop="10dp"
            android:clickable="true"
            android:focusable="true"
            android:padding="10dp"
            android:visibility="gone"/>

    </LinearLayout>

</LinearLayout>
